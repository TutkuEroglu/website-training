{"ast":null,"code":"import _taggedTemplateLiteral from\"D:/siteapp - Kopya/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _slicedToArray from\"D:/siteapp - Kopya/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject;import React,{useState,useEffect}from\"react\";import Axios from\"axios\";import{useHistory}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";import{islogged}from\"../action/index\";import{loginz,selectUser}from\"../reducer/infuser\";import BounceLoader from\"react-spinners/BounceLoader\";import{css}from\"@emotion/react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function LoginPage(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),loginStatus=_useState6[0],setLoginStatus=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var isLogged=useSelector(function(state){return state.isLogged;});var UserSelect=useSelector(selectUser);var override=css(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  position:absolute;\\n  display: block;\\n  margin: 0 auto;\\n  right: 56%;\\n  top:35%;\\n\"])));var dispatch=useDispatch();var history=useHistory();Axios.defaults.withCredentials=true;var login=function login(){Axios.post(\"http://localhost:3001/api/login\",{username:username,password:password}).then(function(response){if(response.data.message){console.log(loginStatus);setLoginStatus(response.data.message);}else{setTimeout(function(){window.location.reload(false);dispatch(loginz({id:response.data[0].id,username:username,password:password,role:response.data[0].role,loggedIn:true}));dispatch(islogged());},100);}history.push(\"/HomePage\");});};useEffect(function(){Axios.get(\"http://localhost:3001/api/login\");setLoading(true);setTimeout(function(){setLoading(false);},2700);},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"Appx\",children:loading?/*#__PURE__*/_jsx(BounceLoader,{css:override,size:70,color:\"#880115\",loading:loading}):/*#__PURE__*/_jsxs(\"div\",{className:\"xxxx\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{position:\"absolute\",top:\"25%\",fontSize:\"30px\",right:\"50%\"},className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{style:{color:\"white\"},className:\"form-label\",children:\"Kullan\\u0131c\\u0131 Ad\\u0131\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",onChange:function onChange(e){setUsername(e.target.value);}}),/*#__PURE__*/_jsx(\"div\",{id:\"emailHelp\",className:\"form-text\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{position:\"absolute\",top:\"35%\",fontSize:\"30px\",right:\"50%\"},className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{style:{color:\"white\"},htmlFor:\"exampleInputPassword1\",className:\"form-label\",children:\"\\u015Eifre\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"exampleInputPassword1\",onChange:function onChange(e){setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"div\",{id:\"emailHelp\",className:\"form-text\"})]}),/*#__PURE__*/_jsx(\"button\",{style:{position:\"absolute\",top:\"47%\",right:\"50%\"},type:\"submit\",className:\"btn btn-success\",onClick:login,children:\"Giri\\u015F Yap\"}),/*#__PURE__*/_jsxs(\"div\",{style:{position:\"absolute\",top:\"57%\",right:\"44.5%\",fontSize:\"25px\",color:\"white\"},children:[\"E\\u011Fer hesab\\u0131n yoksa \",/*#__PURE__*/_jsx(\"a\",{href:\"/register\",children:\"buraya\"}),\" t\\u0131klayarak hesap olu\\u015Fturabilirsin.\"]})]})});}","map":{"version":3,"sources":["D:/siteapp - Kopya/client/src/pages/LoginPage.js"],"names":["React","useState","useEffect","Axios","useHistory","useSelector","useDispatch","islogged","loginz","selectUser","BounceLoader","css","LoginPage","username","setUsername","password","setPassword","loginStatus","setLoginStatus","loading","setLoading","isLogged","state","UserSelect","override","dispatch","history","defaults","withCredentials","login","post","then","response","data","message","console","log","setTimeout","window","location","reload","id","role","loggedIn","push","get","position","top","fontSize","right","color","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { islogged } from \"../action/index\";\r\nimport { loginz, selectUser } from \"../reducer/infuser\";\r\nimport BounceLoader from \"react-spinners/BounceLoader\";\r\nimport { css } from \"@emotion/react\";\r\n\r\nexport default function LoginPage() {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [loginStatus, setLoginStatus] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const isLogged = useSelector((state) => state.isLogged);\r\n  const UserSelect = useSelector(selectUser);\r\n\r\n  const override = css`\r\n  position:absolute;\r\n  display: block;\r\n  margin: 0 auto;\r\n  right: 56%;\r\n  top:35%;\r\n`;\r\n\r\n  const dispatch = useDispatch();\r\n  let history = useHistory();\r\n\r\n  Axios.defaults.withCredentials = true;\r\n\r\n  const login = () => {\r\n    Axios.post(\"http://localhost:3001/api/login\", {\r\n      username: username,\r\n      password: password,\r\n    }).then((response) => {\r\n      if (response.data.message) {\r\n        console.log(loginStatus);\r\n        setLoginStatus(response.data.message);\r\n      } else {\r\n        setTimeout(() => {\r\n          window.location.reload(false);\r\n          dispatch(\r\n            loginz({\r\n              id: response.data[0].id,\r\n              username: username,\r\n              password: password,\r\n              role: response.data[0].role,\r\n              loggedIn: true,\r\n            })\r\n          );\r\n          dispatch(islogged());\r\n        }, 100);\r\n      }\r\n      history.push(\"/HomePage\");\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    Axios.get(\"http://localhost:3001/api/login\")\r\n    setLoading(true);\r\n    setTimeout(() => {\r\n      setLoading(false)\r\n    }, 2700);\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"Appx\">\r\n    {loading ? (<BounceLoader css={override} size={70} color={\"#880115\"} loading={loading} />) : (<div className=\"xxxx\">\r\n      \r\n    <div style={{position:\"absolute\", top:\"25%\", fontSize:\"30px\", right:\"50%\"}} className=\"mb-3\">\r\n      <label style={{color:\"white\"}}className=\"form-label\">Kullanıcı Adı</label>\r\n      <input\r\n        type=\"email\"\r\n        className=\"form-control\"\r\n        id=\"exampleInputEmail1\"\r\n        aria-describedby=\"emailHelp\"\r\n        onChange={(e) => {\r\n          setUsername(e.target.value);\r\n        }}\r\n      />\r\n      <div id=\"emailHelp\" className=\"form-text\"></div>\r\n    </div>\r\n    <div style={{position:\"absolute\", top:\"35%\", fontSize:\"30px\",right:\"50%\"}} className=\"mb-3\">\r\n      <label style={{color:\"white\"}} htmlFor=\"exampleInputPassword1\" className=\"form-label\">\r\n        Şifre\r\n      </label>\r\n      <input\r\n        type=\"password\"\r\n        className=\"form-control\"\r\n        id=\"exampleInputPassword1\"\r\n        onChange={(e) => {\r\n          setPassword(e.target.value);\r\n        }}\r\n      />\r\n      <div id=\"emailHelp\" className=\"form-text\">\r\n      </div>\r\n    </div>\r\n    <button style={{position:\"absolute\", top:\"47%\", right:\"50%\"}} type=\"submit\" className=\"btn btn-success\" onClick={login}>\r\n      Giriş Yap\r\n    </button>\r\n    <div style={{position:\"absolute\",top:\"57%\",right:\"44.5%\",fontSize:\"25px\",color:\"white\"}}>Eğer hesabın yoksa <a href=\"/register\">buraya</a> tıklayarak hesap oluşturabilirsin.</div>\r\n  </div>) }\r\n  </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}