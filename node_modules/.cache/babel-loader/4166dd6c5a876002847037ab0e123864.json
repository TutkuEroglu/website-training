{"ast":null,"code":"import _regeneratorRuntime from\"D:/siteapp - Kopya/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/siteapp - Kopya/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/siteapp - Kopya/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Axios from\"axios\";import{useSelector,useDispatch}from\"react-redux\";import{editz,selectUser}from\"../reducer/infuser\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function NormalUser(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userx=_useState2[0],setUserX=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),visible=_useState4[0],setVisible=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),newUser=_useState6[0],SetNewUser=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),userId=_useState8[0],setUserID=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),alertx=_useState10[0],setAlertX=_useState10[1];var user=useSelector(selectUser);var dispatch=useDispatch();Axios.defaults.withCredentials=true;var edit=function edit(){Axios.post(\"http://localhost:3001/api/change\",{newusername:newUser,newid:userId});SetNewUser(\"\");setAlertX(false);setTimeout(function(){setAlertX(true);window.location.reload(false);},3000);dispatch(editz({id:userx[0].id,username:newUser,password:userx[0].password,role:userx[0].role,loggedIn:true}));setVisible(!visible);};var vis=function vis(){setVisible(!visible);};useEffect(function(){getUser();},[newUser]);var getUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Axios.get(\"http://localhost:3001/api/login\");case 2:res=_context.sent;if(res.data.loggedIn===true){setUserX(res.data.user);setUserID(res.data.user[0].id);}case 4:case\"end\":return _context.stop();}}},_callee);}));return function getUser(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{style:{color:\"white\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"zz\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Kullan\\u0131c\\u0131 Ad\\u0131n: \",\"\",visible?user.username:/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",/*#__PURE__*/_jsx(\"input\",{style:{position:\"absolute\",width:\"350px\",right:\"21%\",top:\"0.7%\",height:\"40px\"},type:\"email\",className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",onChange:function onChange(e){SetNewUser(e.target.value);},placeholder:user.username}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning\",style:{position:\"absolute\",right:\"15%\",top:\"-0.7%\",height:\"5%\"},onClick:edit,children:\"G\\xFCncelle\"}),\" \"]})]}),alertx?\"\":/*#__PURE__*/_jsx(\"div\",{style:{position:\"absolute\",right:\"10%\",width:\"20%\",height:\"20%\",textAlign:\"center\",fontSize:\"25px\",paddingTop:\"50px\",top:\"0%\"},className:\"alert alert-success\",role:\"alert\",children:\"KULLANICI ADINI BA\\u015EARIYLA DE\\u011E\\u0130\\u015ET\\u0130RD\\u0130N!\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning\",style:{position:\"absolute\",right:\"44%\",top:\"6%\",height:\"5%\"},onClick:vis,children:\"Kullan\\u0131c\\u0131 ad\\u0131n\\u0131 de\\u011Fi\\u015Ftir\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"h1\",{children:[\"Rol\\xFCn: \",user.role]})]},user.id),/*#__PURE__*/_jsx(\"img\",{alt:\"de\",src:\"https://cdn.pixabay.com/photo/2018/04/18/18/56/user-3331257__340.png\"}),/*#__PURE__*/_jsx(\"h2\",{style:{position:\"absolute\",top:\"57%\",right:\"35%\"},children:\"Foto\\u011Fraf\\u0131n\\u0131 de\\u011Fi\\u015Ftirmek ister misin?\"}),/*#__PURE__*/_jsxs(\"div\",{style:{position:\"absolute\",top:\"62%\",right:\"35%\"},className:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"input-group-text bi bi-cloud-arrow-up\",for:\"inputGroupFile01\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"form-control\",id:\"inputGroupFile01\"})]}),/*#__PURE__*/_jsx(\"button\",{style:{position:\"absolute\",top:\"66%\",right:\"46.8%\"},className:\"btn btn-success\",children:\"De\\u011Fi\\u015Ftir\"})]});}","map":{"version":3,"sources":["D:/siteapp - Kopya/client/src/Components/NormalUser.js"],"names":["React","useState","useEffect","Axios","useSelector","useDispatch","editz","selectUser","NormalUser","userx","setUserX","visible","setVisible","newUser","SetNewUser","userId","setUserID","alertx","setAlertX","user","dispatch","defaults","withCredentials","edit","post","newusername","newid","setTimeout","window","location","reload","id","username","password","role","loggedIn","vis","getUser","get","res","data","color","position","width","right","top","height","e","target","value","textAlign","fontSize","paddingTop"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Axios from \"axios\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { editz, selectUser } from \"../reducer/infuser\";\r\n\r\nexport default function NormalUser() {\r\n  const [userx, setUserX] = useState([]);\r\n  const [visible, setVisible] = useState(true);\r\n  const [newUser, SetNewUser] = useState(\"\");\r\n  const [userId, setUserID] = useState(\"\");\r\n  const [alertx, setAlertX] = useState(true);\r\n\r\n  const user = useSelector(selectUser);\r\n  const dispatch = useDispatch();\r\n\r\n  Axios.defaults.withCredentials = true;\r\n\r\n  const edit = () => {\r\n    Axios.post(\"http://localhost:3001/api/change\", {\r\n      newusername: newUser,\r\n      newid: userId,\r\n    });\r\n    SetNewUser(\"\");\r\n    setAlertX(false);\r\n    setTimeout(() => {\r\n      setAlertX(true);\r\n      window.location.reload(false);\r\n    }, 3000);\r\n    dispatch(\r\n      editz({\r\n        id: userx[0].id,\r\n        username: newUser,\r\n        password: userx[0].password,\r\n        role: userx[0].role,\r\n        loggedIn: true,\r\n      })\r\n    );\r\n    setVisible(!visible);\r\n  };\r\n\r\n  const vis = () => {\r\n    setVisible(!visible);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUser();\r\n  }, [newUser]);\r\n\r\n  const getUser = async () => {\r\n    const res = await Axios.get(\"http://localhost:3001/api/login\");\r\n    if (res.data.loggedIn === true) {\r\n      setUserX(res.data.user);\r\n      setUserID(res.data.user[0].id);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{color:\"white\"}}>\r\n      <div className=\"zz\" key={user.id}>\r\n        <h1>\r\n          Kullanıcı Adın: {\"\"}\r\n          {visible ? (\r\n            user.username\r\n          ) : (\r\n            <>\r\n              {\" \"}\r\n              <input\r\n                style={{\r\n                  position: \"absolute\",\r\n                  width: \"350px\",\r\n                  right: \"21%\",\r\n                  top: \"0.7%\",\r\n                  height: \"40px\",\r\n                }}\r\n                type=\"email\"\r\n                className=\"form-control\"\r\n                id=\"exampleInputEmail1\"\r\n                aria-describedby=\"emailHelp\"\r\n                onChange={(e) => {\r\n                  SetNewUser(e.target.value);\r\n                }}\r\n                placeholder={user.username}\r\n              />\r\n              <button\r\n                className=\"btn btn-warning\"\r\n                style={{\r\n                  position: \"absolute\",\r\n                  right: \"15%\",\r\n                  top: \"-0.7%\",\r\n                  height: \"5%\",\r\n                }}\r\n                onClick={edit}\r\n              >\r\n                Güncelle\r\n              </button>{\" \"}\r\n            </>\r\n          )}\r\n        </h1>\r\n        {alertx ? (\r\n          \"\"\r\n        ) : (\r\n          <div\r\n            style={{\r\n              position: \"absolute\",\r\n              right: \"10%\",\r\n              width: \"20%\",\r\n              height: \"20%\",\r\n              textAlign: \"center\",\r\n              fontSize: \"25px\",\r\n              paddingTop: \"50px\",\r\n              top: \"0%\",\r\n            }}\r\n            className=\"alert alert-success\"\r\n            role=\"alert\"\r\n          >\r\n            KULLANICI ADINI BAŞARIYLA DEĞİŞTİRDİN!\r\n          </div>\r\n        )}\r\n        <button\r\n          className=\"btn btn-warning\"\r\n          style={{\r\n            position: \"absolute\",\r\n            right: \"44%\",\r\n            top: \"6%\",\r\n            height: \"5%\",\r\n          }}\r\n          onClick={vis}\r\n        >\r\n          Kullanıcı adını değiştir\r\n        </button>\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <h1>Rolün: {user.role}</h1>\r\n      </div>\r\n\r\n      <img\r\n        alt=\"de\"\r\n        src=\"https://cdn.pixabay.com/photo/2018/04/18/18/56/user-3331257__340.png\"\r\n      ></img>\r\n      <h2 style={{ position: \"absolute\", top: \"57%\", right: \"35%\" }}>\r\n        Fotoğrafını değiştirmek ister misin?\r\n      </h2>\r\n\r\n      <div\r\n        style={{ position: \"absolute\", top: \"62%\", right: \"35%\" }}\r\n        className=\"input-group mb-3\"\r\n      >\r\n        <label\r\n          className=\"input-group-text bi bi-cloud-arrow-up\"\r\n          for=\"inputGroupFile01\"\r\n        ></label>\r\n        <input type=\"file\" className=\"form-control\" id=\"inputGroupFile01\" />\r\n      </div>\r\n      <button\r\n        style={{ position: \"absolute\", top: \"66%\", right: \"46.8%\" }}\r\n        className=\"btn btn-success\"\r\n      >\r\n        Değiştir\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}