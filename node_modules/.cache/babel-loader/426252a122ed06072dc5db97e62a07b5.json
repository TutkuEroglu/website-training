{"ast":null,"code":"import _regeneratorRuntime from\"D:/siteapp - Kopya/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/siteapp - Kopya/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/siteapp - Kopya/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import\"../App.css\";import Axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function CreatePost(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userx=_useState2[0],setUserX=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],setTitle=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),text=_useState6[0],setText=_useState6[1];useEffect(function(){getUser();},[]);var getUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Axios.get(\"http://localhost:3001/api/login\");case 2:res=_context.sent;if(res.data.loggedIn===true){setUserX(res.data.user[0].username);console.log(res.data.user[0].username);}case 4:case\"end\":return _context.stop();}}},_callee);}));return function getUser(){return _ref.apply(this,arguments);};}();var submitPost=function submitPost(){Axios.post(\"http://localhost:3001/api/create\",{userName:userx,title:title,text:text});setTimeout(function(){window.location.reload(false);},300);};return/*#__PURE__*/_jsx(\"div\",{style:{position:\"absolute\"},className:\"Appx\",children:/*#__PURE__*/_jsxs(\"div\",{style:{position:\"absolute\",top:\"13%\",right:\"45%\"},className:\"uploadPost\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Ba\\u015Fl\\u0131k\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){setTitle(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\"Post\"}),/*#__PURE__*/_jsx(\"textarea\",{onChange:function onChange(e){setText(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:submitPost,children:\"G\\xF6nder\"})]})});}","map":{"version":3,"sources":["D:/siteapp - Kopya/client/src/pages/CreatePost.js"],"names":["React","useState","useEffect","Axios","CreatePost","userx","setUserX","title","setTitle","text","setText","getUser","get","res","data","loggedIn","user","username","console","log","submitPost","post","userName","setTimeout","window","location","reload","position","top","right","e","target","value"],"mappings":"6aAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,YAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,cAAe,SAASC,CAAAA,UAAT,EAAsB,eAETH,QAAQ,CAAC,EAAD,CAFC,wCAE5BI,KAF4B,eAErBC,QAFqB,8BAGTL,QAAQ,CAAC,EAAD,CAHC,yCAG5BM,KAH4B,eAGrBC,QAHqB,8BAIXP,QAAQ,CAAC,EAAD,CAJG,yCAI5BQ,IAJ4B,eAItBC,OAJsB,eAOnCR,SAAS,CAAC,UAAM,CACdS,OAAO,GACR,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMA,CAAAA,OAAO,0FAAG,iKACIR,CAAAA,KAAK,CAACS,GAAN,CAAU,iCAAV,CADJ,QACRC,GADQ,eAEd,GAAIA,GAAG,CAACC,IAAJ,CAASC,QAAT,GAAsB,IAA1B,CAAgC,CAC9BT,QAAQ,CAACO,GAAG,CAACC,IAAJ,CAASE,IAAT,CAAc,CAAd,EAAiBC,QAAlB,CAAR,CACAC,OAAO,CAACC,GAAR,CAAYN,GAAG,CAACC,IAAJ,CAASE,IAAT,CAAc,CAAd,EAAiBC,QAA7B,EACD,CALa,sDAAH,kBAAPN,CAAAA,OAAO,0CAAb,CASA,GAAMS,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvBjB,KAAK,CAACkB,IAAN,CAAW,kCAAX,CAA+C,CAC7CC,QAAQ,CAAEjB,KADmC,CAE7CE,KAAK,CAAEA,KAFsC,CAG7CE,IAAI,CAAEA,IAHuC,CAA/C,EAKAc,UAAU,CAAC,UAAM,CACfC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB,EACD,CAFS,CAEP,GAFO,CAAV,CAGD,CATD,CAWA,mBACE,YAAK,KAAK,CAAE,CAACC,QAAQ,CAAC,UAAV,CAAZ,CAAmC,SAAS,CAAC,MAA7C,uBACE,aAAK,KAAK,CAAE,CAACA,QAAQ,CAAC,UAAV,CAAqBC,GAAG,CAAC,KAAzB,CAA+BC,KAAK,CAAC,KAArC,CAAZ,CAAwD,SAAS,CAAC,YAAlE,wBACE,2CADF,cAEE,cACE,IAAI,CAAC,MADP,CAEE,QAAQ,CAAE,kBAACC,CAAD,CAAO,CACftB,QAAQ,CAACsB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR,CACD,CAJH,EAFF,cAQE,+BARF,cASE,iBACE,QAAQ,CAAE,kBAACF,CAAD,CAAO,CACfpB,OAAO,CAACoB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACD,CAHH,EATF,cAcE,eAAQ,SAAS,CAAC,iBAAlB,CAAoC,OAAO,CAAEZ,UAA7C,uBAdF,GADF,EADF,CAoBD","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"../App.css\";\r\nimport Axios from \"axios\";\r\n\r\nexport default function CreatePost() {\r\n\r\n  const [userx, setUserX] = useState(\"\");\r\n  const [title, setTitle] = useState(\"\");\r\n  const [text, setText] = useState(\"\");\r\n  \r\n\r\n  useEffect(() => {\r\n    getUser();\r\n  }, []);\r\n\r\n  const getUser = async () => {\r\n    const res = await Axios.get(\"http://localhost:3001/api/login\");\r\n    if (res.data.loggedIn === true) {\r\n      setUserX(res.data.user[0].username);\r\n      console.log(res.data.user[0].username);\r\n    }\r\n  };\r\n\r\n\r\n  const submitPost = () => {\r\n    Axios.post(\"http://localhost:3001/api/create\", {\r\n      userName: userx,\r\n      title: title,\r\n      text: text,\r\n    })\r\n    setTimeout(() => {\r\n      window.location.reload(false);\r\n    }, 300);\r\n  };\r\n\r\n  return (\r\n    <div style={{position:\"absolute\"}} className=\"Appx\">\r\n      <div style={{position:\"absolute\",top:\"13%\",right:\"45%\"}}className=\"uploadPost\">\r\n        <label>Başlık</label>\r\n        <input\r\n          type=\"text\"\r\n          onChange={(e) => {\r\n            setTitle(e.target.value);\r\n          }}\r\n        />\r\n        <label>Post</label>\r\n        <textarea\r\n          onChange={(e) => {\r\n            setText(e.target.value);\r\n          }}\r\n        />\r\n        <button className=\"btn btn-success\" onClick={submitPost}>Gönder</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}